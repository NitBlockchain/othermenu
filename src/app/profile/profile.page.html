<ion-content>
  <nb-layout center class="own-scroll">
    <nb-layout-header fixed>
      <nb-actions>
        <nb-action routerLink="/home"><i class="fas fa-apple-alt icon_1"></i></nb-action>

      </nb-actions>
    </nb-layout-header>
    <nb-layout-column class="p-0">
      <div class="row justify-content-md-center pl-2 pr-2" *ngIf="!show_add_address">
        <div class="col-sm-12 col-md-9 col-lg-9 col-xl-9 col-xxl-9">
          <nb-card style="background-image: linear-gradient(135deg, #79F1A4 0%, #0E5CAD 100%);" *ngIf="Duser">
            <nb-card-body class="pt-4 mt-4 mb-4">
              <div class="row">
                <div  class="col-sm-12 col-xs-12 text-center font_2 h6 text-white">
                  <img  src="{{Duser.avatar}}"  style="height:75px; width:auto" class="mb-3"  /><br />
                  {{Duser.userName}}<br />
                  {{Duser.btc_balance  | number:'1.8-8'}} <small>BTC</small><br />
                  <i class="fas fa-edit"></i>

                  </div>

                </div>
            </nb-card-body>
          </nb-card>

        </div>
      </div>
      <div class="row" *ngIf="!show_add_address">
        <div class="col-12">
          <nb-card>
            <nb-card-body class="pt-4">
              <div class="row">
                <div class="col-4  text-white">
                  <nb-actions>
                    <nb-action (click)="show_add_address=true" class="text-white" *ngIf="!show_add_address"><i class="fas fa-plus icon_1 text-success"></i></nb-action>
                    <nb-action (click)="show_add_address=false" class="text-white" *ngIf="show_add_address"><i class="fas fa-minus-circle icon_1 text-danger"></i></nb-action>
                  </nb-actions>
                </div>
                <div class="col-8 text-white font_4  text-right">
                  Order History
                </div>
              </div>
            </nb-card-body>
          </nb-card>

        </div>
      </div>

      <div class="row" *ngIf="!show_add_address">
        <div class="col-12">
          <nb-card>
            <nb-card-body class="pt-4">
              <div class="row">
                <div class="col-4  text-white">
                  <nb-actions>
                    <nb-action (click)="show_add_address=true" class="text-white" *ngIf="!show_add_address"><i class="fas fa-plus icon_1 text-success"></i></nb-action>
                    <nb-action (click)="show_add_address=false" class="text-white" *ngIf="show_add_address"><i class="fas fa-minus-circle icon_1 text-danger"></i></nb-action>
                  </nb-actions>
                </div>
                <div class="col-8 text-white font_4  text-right">
                  Delivery  Address
                </div>
              </div>
            </nb-card-body>
          </nb-card>

          <nb-card *ngIf="Duser && Duser.address.length<1">
            <nb-card-body class="pt-4">
              <div class="row">
                <div class="col-12 text-white font_4 text-center p-2 text-muted">
                  no delivery address added
                </div>
              </div>
            </nb-card-body>
          </nb-card>
        </div>
      </div>

      <div class="row" *ngIf="show_add_address">
        <div class="col-12">
          <nb-card>
            <nb-card-header>
              <h6 class="text-center text-white font_2">Add Address</h6>
            </nb-card-header>
            <nb-card-body class="pt-4">
              <form class="form" [formGroup]="_address" (ngSubmit)="tryAddress(_address.value)">
                <div class="p-1">
                  <input type="text" nbInput fullWidth fieldSize="giant" class="text-white" placeholder="first name" formControlName="fname">

                </div>
                <div class="p-1">
                  <input type="text" nbInput fullWidth fieldSize="giant" class="text-white" placeholder="last name" formControlName="lname">

                </div>

                <div class="p-1">
                  <input type="text" nbInput fullWidth fieldSize="giant" class="text-white" placeholder="address" formControlName="address">

                </div>
                <div class="p-1">
                  <input type="text" nbInput fullWidth fieldSize="giant" class="text-white" placeholder="address2" formControlName="address2">

                </div>
                <div class="p-1">
                  <input type="text" nbInput fullWidth fieldSize="giant" class="text-white" placeholder="city" formControlName="city">

                </div>
                <div class="p-1">
                  <input type="text" nbInput fullWidth fieldSize="giant" class="text-white" placeholder="state" formControlName="state">

                </div>
                <div class="p-1">
                  <input type="text" nbInput fullWidth fieldSize="giant" class="text-white" placeholder="zip code" formControlName="zip">

                </div>

                <div class="p-3 text-center">
                  <button nbButton fullWidth  status="success" type="submit" [disabled]="!_address.valid"> Submit</button>

                </div>

              </form>
              <div class="p-1">
                <button nbButton fullWidth  status="dark" (click)="show_add_address=false"> back</button>

                </div>
            </nb-card-body>
          </nb-card>

        </div>
      </div>

    </nb-layout-column>
  </nb-layout>

</ion-content>
